#import "RnDeviceCheck.h"
#import "UIView+Toast.h"

@implementation RnDeviceCheck

RCT_EXPORT_MODULE()
RCT_EXPORT_METHOD(showToast:(NSString *)firstMessage secondMessage:(NSString *)secondMessage duration:(NSTimeInterval)duration style:(NSDictionary *)style) {
//Simulator
    dispatch_async(dispatch_get_main_queue(), ^{
        //Get to pmost view
        UIWindow *window = [[UIApplication sharedApplication] keyWindow];
        UIView *topView = window.rootViewController.view;

        //Get font name and font size
        NSString *fontName = [style valueForKey:@"font"];
        NSNumber *fontSize = [style valueForKey:@"fontSize"];

        //Create toast
        CSToastStyle *style = [[CSToastStyle alloc] initWithDefaultStyle];
        style.messageFont = [UIFont fontWithName:fontName size:[fontSize doubleValue]];

#if TARGET_OS_SIMULATOR
        //Show toast
        [topView makeToast:firstMessage duration:duration position:CSToastPositionBottom style:style];
#else
        // Device
        [topView makeToast:secondMessage duration:duration position:CSToastPositionBottom style:style];

#endif
    });
}


@end
